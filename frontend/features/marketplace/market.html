<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Scholars Stack - Premium Marketplace</title>
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="market.css">
</head>
<body>
    <!-- Mobile Overlay -->
    <div class="mobile-overlay" id="mobileOverlay"></div>
    
    <!-- Header with Menu Toggle -->
    <header class="header">
        <div class="menu-toggle" id="menuToggle">
            <span></span>
            <span></span>
            <span></span>
        </div>
        
        <div class="logo">
            <img src="../images/logo.png" alt="Scholars Stack Logo">
            <div class="logo-text">
                <h1>Scholars Stack</h1>
                <span>Premium Academic Resources</span>
            </div>
        </div>
        
        <div class="header-actions">
            <div class="user-profile">
                <div class="user-avatar">
                    <img src="" alt="Profile Photo" id="userAvatar" style="display: none;">
                    <span>S</span>
                </div>
                <div class="user-name">Student</div>
            </div>
            <a href="../maps/maps.html" class="map-access" title="Campus Map" aria-label="View Campus Map">
                <i class='bx bxs-map'></i>
            </a>
        </div>
    </header>
    
    <!-- Sidebar Navigation -->
    <nav class="sidebar" id="sidebar">
        <div class="sidebar-title">Main Navigation</div>
        <ul class="sidebar-menu">
            <!-- <li><a href="#"><i class='bx bxs-dashboard'></i> Dashboard</a></li> -->
            <li><a href="../profile/profile.html"><i class='bx bxs-user'></i> Profile</a></li>
            <li><a href="../attendance/attedance.html" ><i class='bx bxs-calculator'></i> Attendance Calculator</a></li>

            <li><a href="../gpa-calculator/cgpa.html"><i class='bx bxs-calculator'></i> CGPA Calculator</a></li>
            <li><a href="../ttmaker/ttmaker1.html"><i class='bx bxs-calendar'></i> Timetable Maker</a></li>
        </ul>
        
        <div class="sidebar-title">Resources</div>
        <ul class="sidebar-menu">
            <li><a href="../marketplace/market.html" class="active"><i class='bx bxs-store'></i> Marketplace</a></li>
            <li><a href="../club/club.html" ><i class='bx bxs-group'></i> Club Info</a></li>

            <li><a href="../faculty/faculty.html" ><i class='bx bxs-group'></i> Faculty Info</a></li>
            <li><a href="../mess-menu/mess.html"><i class='bx bxs-food-menu'></i> Mess Menus</a></li>
            <!-- <li><a href="#"><i class='bx bxs-book'></i> Study Materials</a></li> -->
        </ul>
        
        <div class="sidebar-title">Quick Links</div>
        <ul class="sidebar-menu">
            <li><a href="../mycourses/mycourses.html"><i class='bx bxs-graduation'></i> My Courses</a></li>
            <!-- <li><a href="#"><i class='bx bxs-file'></i> Assignments</a></li> -->
            <li><a href="../event/event.html"><i class='bx bxs-calendar-event'></i> Events</a></li>
        </ul>
        
        <div class="sidebar-title">Account</div>
        <ul class="sidebar-menu">
            <li><a href="#"><i class='bx bxs-cog'></i> Settings</a></li>
            <li><a href="#"><i class='bx bxs-log-out'></i> Logout</a></li>
        </ul>
    </nav>
    
    <!-- Main Content Area -->
    <main class="main-content" id="mainContent">
        <h1 class="page-title">
            <i class='bx bxs-store'></i> Premium Marketplace
        </h1>
        
        <!-- Marketplace Hero Section -->
        <section class="marketplace-hero">
            <div class="hero-content">
                <h2 class="hero-title">Elevate Your Academic Journey</h2>
                <p class="hero-subtitle">Access premium course notes curated by top performers and professors. Invest in your success with Scholars Stack' exclusive marketplace.</p>
                
                <div class="hero-stats">
                    <div class="hero-stat">
                        <div class="stat-number">20+</div>
                        <div class="stat-label">Premium Courses</div>
                    </div>
                    <div class="hero-stat">
                        <div class="stat-number">4.8★</div>
                        <div class="stat-label">Average Rating</div>
                    </div>
                    <div class="hero-stat">
                        <div class="stat-number">500+</div>
                        <div class="stat-label">Satisfied Students</div>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Enhanced Marketplace Controls -->
        <div class="marketplace-controls">
            <div class="search-container">
                <i class='bx bx-search'></i>
                <input type="text" placeholder="Search courses, subjects, or professors..." id="searchInput">
            </div>
            
            <div class="filter-container">
                <button class="filter-btn active" data-filter="all">
                    <i class='bx bx-filter'></i> All Courses
                </button>
                <button class="filter-btn" data-filter="cs">
                    <i class='bx bx-chip'></i> CS
                </button>
                <button class="filter-btn" data-filter="eng">
                    <i class='bx bx-atom'></i> Engineering
                </button>
                <button class="filter-btn" data-filter="math">
                    <i class='bx bx-calculator'></i> Math
                </button>
                <button class="filter-btn" data-filter="sci">
                    <i class='bx bx-dna'></i> Sciences
                </button>
            </div>
        </div>
        
        <!-- Course Grid -->
        <div class="course-grid">
            <!-- Course 1 -->
            <div class="course-card" data-course="1" data-tags="cs">
                <div class="course-image" style="background-image: url('https://images.unsplash.com/photo-1550439062-609e1531270e?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80');">
                    <div class="premium-badge">PREMIUM</div>
                </div>
                <div class="course-info">
                    <div class="course-header">
                        <div>
                            <h3 class="course-title">Data Structures & Algorithms</h3>
                        </div>
                        <div class="course-rating">
                            <i class='bx bxs-star' style="color: var(--gold-color);"></i>
                            <span>4.9</span>
                        </div>
                    </div>
                    
                    <div class="course-meta">
                        <div class="meta-item">
                            <i class='bx bx-book'></i>
                            <span>12 Modules</span>
                        </div>
                        <div class="meta-item">
                            <i class='bx bx-time'></i>
                            <span>40+ Hours</span>
                        </div>
                        <div class="meta-item">
                            <i class='bx bx-download'></i>
                            <span>200+ Notes</span>
                        </div>
                    </div>
                    
                    <p class="course-description">
                        Master essential data structures and algorithms with comprehensive notes, solved problems, and exam strategies.
                    </p>
                    
                    <div class="course-footer">
                        <div class="course-price">₹1,299</div>
                        <button class="add-to-cart" data-id="1" data-title="Data Structures & Algorithms" data-price="1299" data-image="https://images.unsplash.com/photo-1550439062-609e1531270e?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80">
                            <i class='bx bx-cart'></i> Add to Cart
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Course 2 -->
            <div class="course-card" data-course="2" data-tags="cs">
                <div class="course-image" style="background-image: url('https://images.unsplash.com/photo-1553877522-43269d4ea984?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80');">
                    <div class="premium-badge">PREMIUM</div>
                </div>
                <div class="course-info">
                    <div class="course-header">
                        <div>
                            <h3 class="course-title">Database Management Systems</h3>
                        </div>
                        <div class="course-rating">
                            <i class='bx bxs-star' style="color: var(--gold-color);"></i>
                            <span>4.8</span>
                        </div>
                    </div>
                    
                    <div class="course-meta">
                        <div class="meta-item">
                            <i class='bx bx-book'></i>
                            <span>10 Modules</span>
                        </div>
                        <div class="meta-item">
                            <i class='bx bx-time'></i>
                            <span>35+ Hours</span>
                        </div>
                        <div class="meta-item">
                            <i class='bx bx-download'></i>
                            <span>180+ Notes</span>
                        </div>
                    </div>
                    
                    <p class="course-description">
                        Comprehensive DBMS notes covering SQL, normalization, transactions, and advanced database concepts.
                    </p>
                    
                    <div class="course-footer">
                        <div class="course-price">₹1,199</div>
                        <button class="add-to-cart" data-id="2" data-title="Database Management Systems" data-price="1199" data-image="https://images.unsplash.com/photo-1553877522-43269d4ea984?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80">
                            <i class='bx bx-cart'></i> Add to Cart
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Course 3 -->
            <div class="course-card" data-course="3" data-tags="cs sci">
                <div class="course-image" style="background-image: url('https://images.unsplash.com/photo-1581094794329-16d1f0d22b6c?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80');">
                    <div class="premium-badge">PREMIUM</div>
                </div>
                <div class="course-info">
                    <div class="course-header">
                        <div>
                            <h3 class="course-title">Machine Learning Fundamentals</h3>
                        </div>
                        <div class="course-rating">
                            <i class='bx bxs-star' style="color: var(--gold-color);"></i>
                            <span>4.9</span>
                        </div>
                    </div>
                    
                    <div class="course-meta">
                        <div class="meta-item">
                            <i class='bx bx-book'></i>
                            <span>15 Modules</span>
                        </div>
                        <div class="meta-item">
                            <i class='bx bx-time'></i>
                            <span>50+ Hours</span>
                        </div>
                        <div class="meta-item">
                            <i class='bx bx-download'></i>
                            <span>250+ Notes</span>
                        </div>
                    </div>
                    
                    <p class="course-description">
                        From basics to advanced algorithms. Includes Python implementations, case studies, and exam notes.
                    </p>
                    
                    <div class="course-footer">
                        <div class="course-price">₹1,499</div>
                        <button class="add-to-cart" data-id="3" data-title="Machine Learning Fundamentals" data-price="1499" data-image="https://images.unsplash.com/photo-1581094794329-16d1f0d22b6c?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80">
                            <i class='bx bx-cart'></i> Add to Cart
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Course 4 -->
            <div class="course-card" data-course="4" data-tags="cs eng">
                <div class="course-image" style="background-image: url('https://images.unsplash.com/photo-1509228468518-180dd4864904?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80');">
                    <div class="premium-badge">PREMIUM</div>
                </div>
                <div class="course-info">
                    <div class="course-header">
                        <div>
                            <h3 class="course-title">Operating Systems</h3>
                        </div>
                        <div class="course-rating">
                            <i class='bx bxs-star' style="color: var(--gold-color);"></i>
                            <span>4.7</span>
                        </div>
                    </div>
                    
                    <div class="course-meta">
                        <div class="meta-item">
                            <i class='bx bx-book'></i>
                            <span>14 Modules</span>
                        </div>
                        <div class="meta-item">
                            <i class='bx bx-time'></i>
                            <span>45+ Hours</span>
                        </div>
                        <div class="meta-item">
                            <i class='bx bx-download'></i>
                            <span>220+ Notes</span>
                        </div>
                    </div>
                    
                    <p class="course-description">
                        Comprehensive notes on processes, threads, memory management, file systems, and security.
                    </p>
                    
                    <div class="course-footer">
                        <div class="course-price">₹1,099</div>
                        <button class="add-to-cart" data-id="4" data-title="Operating Systems" data-price="1099" data-image="https://images.unsplash.com/photo-1509228468518-180dd4864904?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80">
                            <i class='bx bx-cart'></i> Add to Cart
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Course 5 -->
            <div class="course-card" data-course="5" data-tags="cs eng">
                <div class="course-image" style="background-image: url('https://images.unsplash.com/photo-1596495577886-d920f1fb7238?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80');">
                    <div class="premium-badge">PREMIUM</div>
                </div>
                <div class="course-info">
                    <div class="course-header">
                        <div>
                            <h3 class="course-title">Computer Networks</h3>
                        </div>
                        <div class="course-rating">
                            <i class='bx bxs-star' style="color: var(--gold-color);"></i>
                            <span>4.8</span>
                        </div>
                    </div>
                    
                    <div class="course-meta">
                        <div class="meta-item">
                            <i class='bx bx-book'></i>
                            <span>11 Modules</span>
                        </div>
                        <div class="meta-item">
                            <i class='bx bx-time'></i>
                            <span>38+ Hours</span>
                        </div>
                        <div class="meta-item">
                            <i class='bx bx-download'></i>
                            <span>190+ Notes</span>
                        </div>
                    </div>
                    
                    <p class="course-description">
                        Complete notes covering OSI model, TCP/IP, routing, switching, and network security.
                    </p>
                    
                    <div class="course-footer">
                        <div class="course-price">₹1,149</div>
                        <button class="add-to-cart" data-id="5" data-title="Computer Networks" data-price="1149" data-image="https://images.unsplash.com/photo-1596495577886-d920f1fb7238?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80">
                            <i class='bx bx-cart'></i> Add to Cart
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Course 6 -->
            <div class="course-card" data-course="6" data-tags="cs">
                <div class="course-image" style="background-image: url('https://images.unsplash.com/photo-1461749280684-dccba630e2f6?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80');">
                    <div class="premium-badge">PREMIUM</div>
                </div>
                <div class="course-info">
                    <div class="course-header">
                        <div>
                            <h3 class="course-title">Web Development</h3>
                        </div>
                        <div class="course-rating">
                            <i class='bx bxs-star' style="color: var(--gold-color);"></i>
                            <span>4.9</span>
                        </div>
                    </div>
                    
                    <div class="course-meta">
                        <div class="meta-item">
                            <i class='bx bx-book'></i>
                            <span>16 Modules</span>
                        </div>
                        <div class="meta-item">
                            <i class='bx bx-time'></i>
                            <span>60+ Hours</span>
                        </div>
                        <div class="meta-item">
                            <i class='bx bx-download'></i>
                            <span>280+ Notes</span>
                        </div>
                    </div>
                    
                    <p class="course-description">
                        Full-stack web development notes covering HTML, CSS, JavaScript, React, Node.js and more.
                    </p>
                    
                    <div class="course-footer">
                        <div class="course-price">₹1,399</div>
                        <button class="add-to-cart" data-id="6" data-title="Web Development" data-price="1399" data-image="https://images.unsplash.com/photo-1461749280684-dccba630e2f6?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80">
                            <i class='bx bx-cart'></i> Add to Cart
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Course 7 -->
            <div class="course-card" data-course="7" data-tags="math">
                <div class="course-image" style="background-image: url('https://images.unsplash.com/photo-1635070041078-e363dbe005cb?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80');">
                    <div class="premium-badge">PREMIUM</div>
                </div>
                <div class="course-info">
                    <div class="course-header">
                        <div>
                            <h3 class="course-title">Advanced Calculus</h3>
                        </div>
                        <div class="course-rating">
                            <i class='bx bxs-star' style="color: var(--gold-color);"></i>
                            <span>4.6</span>
                        </div>
                    </div>
                    
                    <div class="course-meta">
                        <div class="meta-item">
                            <i class='bx bx-book'></i>
                            <span>8 Modules</span>
                        </div>
                        <div class="meta-item">
                            <i class='bx bx-time'></i>
                            <span>30+ Hours</span>
                        </div>
                        <div class="meta-item">
                            <i class='bx bx-download'></i>
                            <span>150+ Notes</span>
                        </div>
                    </div>
                    
                    <p class="course-description">
                        Master complex calculus concepts with step-by-step solutions and practical applications.
                    </p>
                    
                    <div class="course-footer">
                        <div class="course-price">₹999</div>
                        <button class="add-to-cart" data-id="7" data-title="Advanced Calculus" data-price="999" data-image="https://images.unsplash.com/photo-1635070041078-e363dbe005cb?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80">
                            <i class='bx bx-cart'></i> Add to Cart
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Course 8 -->
            <div class="course-card" data-course="8" data-tags="sci">
                <div class="course-image" style="background-image: url('https://images.unsplash.com/photo-1532094349884-543bc11b234d?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80');">
                    <div class="premium-badge">PREMIUM</div>
                </div>
                <div class="course-info">
                    <div class="course-header">
                        <div>
                            <h3 class="course-title">Organic Chemistry</h3>
                        </div>
                        <div class="course-rating">
                            <i class='bx bxs-star' style="color: var(--gold-color);"></i>
                            <span>4.8</span>
                        </div>
                    </div>
                    
                    <div class="course-meta">
                        <div class="meta-item">
                            <i class='bx bx-book'></i>
                            <span>9 Modules</span>
                        </div>
                        <div class="meta-item">
                            <i class='bx bx-time'></i>
                            <span>35+ Hours</span>
                        </div>
                        <div class="meta-item">
                            <i class='bx bx-download'></i>
                            <span>180+ Notes</span>
                        </div>
                    </div>
                    
                    <p class="course-description">
                        Comprehensive coverage of organic chemistry principles, reactions, and mechanisms.
                    </p>
                    
                    <div class="course-footer">
                        <div class="course-price">₹1,099</div>
                        <button class="add-to-cart" data-id="8" data-title="Organic Chemistry" data-price="1099" data-image="https://images.unsplash.com/photo-1532094349884-543bc11b234d?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80">
                            <i class='bx bx-cart'></i> Add to Cart
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Course Detail Modal -->
    <div class="course-modal" id="courseModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title" id="modalCourseTitle">Course Title</h2>
                <button class="close-modal" id="closeModal">
                    <i class='bx bx-x'></i>
                </button>
            </div>
            
            <div class="modal-body" id="modalBody">
                <!-- Content will be populated by JavaScript -->
            </div>
            
            <div class="modal-footer">
                <div class="price-container">
                    <div class="original-price">₹1,499</div>
                    <div class="discount-price" id="modalCoursePrice">₹1,299</div>
                </div>
                
                <div class="modal-actions">
                    <button class="add-to-cart" id="modalAddToCart">
                        <i class='bx bx-cart'></i> Add to Cart
                    </button>
                    <button class="enroll-now" id="enrollNow" style="background: var(--premium-color);">
                        <i class='bx bxs-lock-open'></i> Enroll Now
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Cart Icon -->
    <div class="cart-icon" id="cartIcon">
        <i class='bx bx-cart'></i>
        <div class="cart-count" id="cartCount">0</div>
    </div>
    
    <!-- Cart Preview -->
    <div class="cart-preview" id="cartPreview">
        <div class="cart-header">
            <h3 class="cart-title">Your Cart</h3>
            <button class="close-cart" id="closeCart">
                <i class='bx bx-x'></i>
            </button>
        </div>
        
        <div class="cart-items" id="cartItems">
            <p>Your cart is empty</p>
        </div>
        
        <div class="cart-total">
            <span>Total:</span>
            <span id="cartTotal">₹0</span>
        </div>
        
        <div class="cart-actions">
            <button class="cart-btn btn-view-cart">View Cart</button>
            <button class="cart-btn btn-checkout" id="checkoutButton">Checkout</button>
        </div>
    </div>

    <script>
        // Mock user profile for simulation
        const userProfile = {
            name: 'Student',
            email: 'student@example.com',
            phone: '' // Empty to simulate incomplete profile
        };

        function isProfileComplete() {
            return userProfile.name && userProfile.email && userProfile.phone;
        }

        // Course data
        const courses = {
            1: {
                id: "1",
                title: "Data Structures & Algorithms",
                image: "https://images.unsplash.com/photo-1550439062-609e1531270e?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
                price: "₹1,299",
                rating: 4.9,
                modules: 12,
                hours: 40,
                notes: 200,
                description: "This comprehensive course covers all essential data structures and algorithms with detailed notes, solved problems, and exam strategies. Designed specifically for VITB students, it includes PYQs from the last 5 years with detailed solutions.",
                modulesList: [
                    { title: "Introduction to Data Structures", topics: "Arrays, Linked Lists, Stacks, Queues, Time Complexity Analysis" },
                    { title: "Trees and Graphs", topics: "Binary Trees, BST, AVL Trees, Graph Representation, BFS, DFS" },
                    { title: "Sorting Algorithms", topics: "Bubble Sort, Selection Sort, Insertion Sort, Merge Sort, Quick Sort" },
                    { title: "Searching Algorithms", topics: "Linear Search, Binary Search, Hashing, Collision Resolution" },
                    { title: "Dynamic Programming", topics: "Memoization, Tabulation, LCS, Knapsack, Matrix Chain Multiplication" },
                    { title: "Greedy Algorithms", topics: "Activity Selection, Huffman Coding, Dijkstra's Algorithm" }
                ],

            },
            2: {
                id: "2",
                title: "Database Management Systems",
                image: "https://images.unsplash.com/photo-1553877522-43269d4ea984?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
                price: "₹1,199",
                rating: 4.8,
                modules: 10,
                hours: 35,
                notes: 180,
                description: "Master database concepts with this comprehensive course covering SQL, normalization, transactions, and advanced database concepts. Includes detailed notes and PYQs with solutions.",
                modulesList: [
                    { title: "Database Fundamentals", topics: "Introduction, ER Model, Relational Model" },
                    { title: "SQL Queries", topics: "DDL, DML, Joins, Subqueries, Views" },
                    { title: "Normalization", topics: "1NF, 2NF, 3NF, BCNF, 4NF, 5NF" },
                    { title: "Transaction Management", topics: "ACID Properties, Concurrency Control, Locking" },
                    { title: "Indexing and Optimization", topics: "B+ Trees, Hashing, Query Optimization" }
                ],

            },
            3: {
                id: "3",
                title: "Machine Learning Fundamentals",
                image: "https://images.unsplash.com/photo-1581094794329-16d1f0d22b6c?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
                price: "₹1,499",
                rating: 4.9,
                modules: 15,
                hours: 50,
                notes: 250,
                description: "From basics to advanced algorithms, this course includes Python implementations, case studies, and exam notes.",
                modulesList: [
                    { title: "Introduction to ML", topics: "Types of Learning, Applications, Python Setup" },
                    { title: "Linear Regression", topics: "Simple & Multiple Regression, Gradient Descent" },
                    { title: "Classification Algorithms", topics: "Logistic Regression, Decision Trees, SVM" },
                    { title: "Clustering", topics: "K-Means, Hierarchical, DBSCAN" },
                    { title: "Neural Networks", topics: "Perceptrons, Backpropagation, Deep Learning" },
                    { title: "Model Evaluation", topics: "Cross-Validation, Metrics, Hyperparameter Tuning" }
                ],

            },
            4: {
                id: "4",
                title: "Operating Systems",
                image: "https://images.unsplash.com/photo-1509228468518-180dd4864904?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
                price: "₹1,099",
                rating: 4.7,
                modules: 14,
                hours: 45,
                notes: 220,
                description: "Comprehensive notes on processes, threads, memory management, file systems, and security.",
                modulesList: [
                    { title: "OS Basics", topics: "Structure, Processes, Threads" },
                    { title: "Memory Management", topics: "Paging, Segmentation, Virtual Memory" }
                ],
 
            },
            5: {
                id: "5",
                title: "Computer Networks",
                image: "https://images.unsplash.com/photo-1596495577886-d920f1fb7238?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
                price: "₹1,149",
                rating: 4.8,
                modules: 11,
                hours: 38,
                notes: 190,
                description: "Complete notes covering OSI model, TCP/IP, routing, switching, and network security.",
                modulesList: [
                    { title: "Network Fundamentals", topics: "OSI, TCP/IP, LAN, WAN" },
                    { title: "Routing", topics: "RIP, OSPF, BGP" }
                ],

            },
            6: {
                id: "6",
                title: "Web Development",
                image: "https://images.unsplash.com/photo-1461749280684-dccba630e2f6?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
                price: "₹1,399",
                rating: 4.9,
                modules: 16,
                hours: 60,
                notes: 280,
                description: "Full-stack web development notes covering HTML, CSS, JavaScript, React, Node.js and more.",
                modulesList: [
                    { title: "Frontend Basics", topics: "HTML, CSS, JavaScript" },
                    { title: "Backend Development", topics: "Node.js, Express" }
                ],

            },
            7: {
                id: "7",
                title: "Advanced Calculus",
                image: "https://images.unsplash.com/photo-1635070041078-e363dbe005cb?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
                price: "₹999",
                rating: 4.6,
                modules: 8,
                hours: 30,
                notes: 150,
                description: "Master complex calculus concepts with step-by-step solutions and practical applications.",
                modulesList: [
                    { title: "Limits and Continuity", topics: "Limits, Continuity, Intermediate Value Theorem" },
                    { title: "Differentiation", topics: "Derivatives, Chain Rule, Implicit Differentiation" },
                    { title: "Integration", topics: "Definite and Indefinite Integrals, Techniques of Integration" }
                ]

            },
            8: {
                id: "8",
                title: "Organic Chemistry",
                image: "https://images.unsplash.com/photo-1532094349884-543bc11b234d?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
                price: "₹1,099",
                rating: 4.8,
                modules: 9,
                hours: 35,
                notes: 180,
                description: "Comprehensive coverage of organic chemistry principles, reactions, and mechanisms.",
                modulesList: [
                    { title: "Basic Concepts", topics: "Structure, Bonding, Isomerism" },
                    { title: "Hydrocarbons", topics: "Alkanes, Alkenes, Alkynes, Aromatic Compounds" },
                    { title: "Functional Groups", topics: "Alcohols, Phenols, Ethers, Carboxylic Acids" }
                ],

            }
        };

        // Cart functionality
        let cart = [];
        let selectedCourse = null;
        let activeFilter = "all";

        function updateCart() {
            const cartItems = document.getElementById('cartItems');
            const cartCount = document.getElementById('cartCount');
            const cartTotal = document.getElementById('cartTotal');
            cartItems.innerHTML = '';
            let total = 0;
            let itemCount = 0;

            cart.forEach(item => {
                itemCount += item.quantity;
                const itemTotal = item.price * item.quantity;
                total += itemTotal;
                const cartItem = document.createElement('div');
                cartItem.className = 'cart-item';
                cartItem.innerHTML = `
                    <div class="cart-item-image" style="background-image: url('${item.image}')"></div>
                    <div class="cart-item-details">
                        <div class="cart-item-title">${item.title}</div>
                        <div class="cart-item-price">₹${item.price} × ${item.quantity}</div>
                    </div>
                    <button class="remove-item" data-id="${item.id}">
                        <i class='bx bx-trash'></i>
                    </button>
                `;
                cartItems.appendChild(cartItem);
            });

            cartCount.textContent = itemCount;
            cartTotal.textContent = `₹${total}`;
            if (cart.length === 0) {
                cartItems.innerHTML = '<p>Your cart is empty</p>';
            }

            // Add remove item listeners
            document.querySelectorAll('.remove-item').forEach(button => {
                button.addEventListener('click', () => {
                    const id = button.dataset.id;
                    cart = cart.filter(item => item.id !== id);
                    updateCart();
                });
            });
        }

        // Toggle sidebar
        const menuToggle = document.getElementById('menuToggle');
        const sidebar = document.getElementById('sidebar');
        const mobileOverlay = document.getElementById('mobileOverlay');
        
        menuToggle.addEventListener('click', () => {
            sidebar.classList.toggle('active');
            mobileOverlay.classList.toggle('active');
            document.body.style.overflow = sidebar.classList.contains('active') ? 'hidden' : 'auto';
        });
        
        mobileOverlay.addEventListener('click', () => {
            sidebar.classList.remove('active');
            mobileOverlay.classList.remove('active');
            document.body.style.overflow = 'auto';
        });

        // Modal and cart elements
        const courseModal = document.getElementById('courseModal');
        const closeModal = document.getElementById('closeModal');
        const modalCourseTitle = document.getElementById('modalCourseTitle');
        const modalCoursePrice = document.getElementById('modalCoursePrice');
        const modalBody = document.getElementById('modalBody');
        const courseCards = document.querySelectorAll('.course-card');
        const modalAddToCart = document.getElementById('modalAddToCart');
        const enrollNowButton = document.getElementById('enrollNow');
        const cartIcon = document.getElementById('cartIcon');
        const cartPreview = document.getElementById('cartPreview');
        const closeCart = document.getElementById('closeCart');
        const checkoutButton = document.getElementById('checkoutButton');

        // Open modal
        courseCards.forEach(card => {
            card.addEventListener('click', (e) => {
                if (e.target.classList.contains('add-to-cart')) return;
                const courseId = card.dataset.course;
                selectedCourse = courses[courseId];
                if (selectedCourse) {
                    modalCourseTitle.textContent = selectedCourse.title;
                    modalCoursePrice.textContent = selectedCourse.price;
                    modalBody.innerHTML = `
                        <div class="course-overview">
                            <div class="course-image-large" style="background-image: url('${selectedCourse.image}')"></div>
                            <div class="course-details">
                                
                                <p class="detailed-description">${selectedCourse.description}</p>
                                <div class="course-stats">
                                    <div class="stat-card">
                                        <div class="stat-value">${selectedCourse.rating}★</div>
                                        <div class="stat-label">Rating</div>
                                    </div>
                                    <div class="stat-card">
                                        <div class="stat-value">${selectedCourse.modules}</div>
                                        <div class="stat-label">Modules</div>
                                    </div>
                                    <div class="stat-card">
                                        <div class="stat-value">${selectedCourse.hours}+</div>
                                        <div class="stat-label">Hours</div>
                                    </div>
                                    <div class="stat-card">
                                        <div class="stat-value">${selectedCourse.notes}+</div>
                                        <div class="stat-label">Notes</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="modules-section">
                            <h3 class="section-title">Course Modules</h3>
                            <div class="modules-grid">
                                ${selectedCourse.modulesList.map(module => `
                                    <div class="module-card">
                                        <h4 class="module-title">${module.title}</h4>
                                        <p class="module-topics">${module.topics}</p>
                                    </div>
                                `).join('')}
                            </div>
                        </div>
                        
                    `;
                    courseModal.classList.add('active');
                    document.body.style.overflow = 'hidden';
                }
            });
        });

        // Close modal
        closeModal.addEventListener('click', () => {
            courseModal.classList.remove('active');
            document.body.style.overflow = 'auto';
        });

        courseModal.addEventListener('click', (e) => {
            if (e.target === courseModal) {
                courseModal.classList.remove('active');
                document.body.style.overflow = 'auto';
            }
        });

        // Add to cart from course cards
        const addToCartButtons = document.querySelectorAll('.course-card .add-to-cart');
        addToCartButtons.forEach(button => {
            button.addEventListener('click', (e) => {
                e.stopPropagation();
                const id = button.dataset.id;
                const title = button.dataset.title;
                const price = parseInt(button.dataset.price);
                const image = button.dataset.image;
                const existingItem = cart.find(item => item.id === id);
                if (existingItem) {
                    existingItem.quantity += 1;
                } else {
                    cart.push({ id, title, price, image, quantity: 1 });
                }
                updateCart();
                button.innerHTML = '<i class="bx bx-check"></i> Added!';
                setTimeout(() => {
                    button.innerHTML = '<i class="bx bx-cart"></i> Add to Cart';
                }, 2000);
            });
        });

        // Add to cart from modal
        modalAddToCart.addEventListener('click', () => {
            if (selectedCourse) {
                const id = selectedCourse.id;
                const title = selectedCourse.title;
                const price = parseInt(selectedCourse.price.replace('₹', ''));
                const image = selectedCourse.image;
                const existingItem = cart.find(item => item.id === id);
                if (existingItem) {
                    existingItem.quantity += 1;
                } else {
                    cart.push({ id, title, price, image, quantity: 1 });
                }
                updateCart();
                courseModal.classList.remove('active');
                document.body.style.overflow = 'auto';
            }
        });

        // Enroll now with profile check
        enrollNowButton.addEventListener('click', () => {
            if (isProfileComplete()) {
                alert('Proceeding to payment for ' + selectedCourse.title);
                // window.location.href = 'payment.html'; // Uncomment when payment.html is ready
            } else {
                window.location.href = 'profile.html';
            }
            courseModal.classList.remove('active');
            document.body.style.overflow = 'auto';
        });

        // Cart toggle
        cartIcon.addEventListener('click', () => {
            cartPreview.classList.toggle('active');
        });

        closeCart.addEventListener('click', () => {
            cartPreview.classList.remove('active');
        });

        // Checkout with profile check
        checkoutButton.addEventListener('click', () => {
            if (cart.length === 0) {
                alert('Your cart is empty');
                return;
            }
            if (isProfileComplete()) {
                alert('Proceeding to payment for cart items');
                // window.location.href = 'payment.html'; // Uncomment when payment.html is ready
            } else {
                window.location.href = 'profile.html';
            }
            cartPreview.classList.remove('active');
        });

        // Filter functionality
        const filterButtons = document.querySelectorAll('.filter-btn');
        
        filterButtons.forEach(button => {
            button.addEventListener('click', () => {
                // Update active state
                filterButtons.forEach(btn => btn.classList.remove('active'));
                button.classList.add('active');
                
                // Filter courses
                activeFilter = button.dataset.filter;
                filterCourses();
            });
        });

        // Search functionality
        const searchInput = document.getElementById('searchInput');
        searchInput.addEventListener('input', filterCourses);

        // Filter and search function
        function filterCourses() {
            const searchTerm = searchInput.value.toLowerCase().trim();
            
            courseCards.forEach(card => {
                const title = card.querySelector('.course-title').textContent.toLowerCase();
                const description = card.querySelector('.course-description').textContent.toLowerCase();
                const tags = card.dataset.tags;
                
                // Check if matches filter
                const matchesFilter = activeFilter === "all" || tags.includes(activeFilter);
                
                // Check if matches search
                const matchesSearch = title.includes(searchTerm) || 
                                     description.includes(searchTerm);
                
                // Show/hide based on both conditions
                card.style.display = (matchesFilter && matchesSearch) ? 'block' : 'none';
            });
        }

        // Initialize cart
        updateCart();
    </script>
</body>
</html>